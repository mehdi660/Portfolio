{"ast":null,"code":"import React from\"react\";import{useAppContext}from\"../appContext\";// Data\nimport{formspreeUrl}from\"../data\";// Components\nimport{Alert,Button,Form,Spinner}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ContactForm(){const[isValidated,setIsValidated]=React.useState(false);const[isProcessing,setIsProcessing]=React.useState(false);const[success,setSuccess]=React.useState(false);const[danger,setDanger]=React.useState(false);const[dangerMessage,setDangerMessage]=React.useState(null);const{theme}=useAppContext();async function postData(data){const response=await fetch(formspreeUrl,{method:\"POST\",body:JSON.stringify(data),headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}});return response;}async function handleSubmit(event){const form=event.currentTarget;setSuccess(false);setDanger(false);setDangerMessage(null);if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}setIsValidated(true);const{name,email,message}=form.elements;const data={name:name.value,email:email.value,message:message.value};if(form.checkValidity()){event.preventDefault();event.persist();setIsProcessing(true);try{const response=await postData(data);if(!response.ok){throw new Error(\"\".concat(response.status,\" \").concat(response.statusText,\", check formspreeUrl in data.js\"));}setIsProcessing(false);setIsValidated(false);event.target.reset();setSuccess(true);}catch(error){setIsProcessing(false);setIsValidated(false);event.target.reset();setDangerMessage(error.message);setDanger(true);}}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Form,{noValidate:true,validated:isValidated,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mx-auto mb-3 form-group\",controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"text\",placeholder:\"Your name\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Name must be at least one character.\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mx-auto mb-3 form-group\",controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,pattern:\"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$\",placeholder:\"someone@something.com\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Please enter a valid email.\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mx-auto mb-3 form-group\",controlId:\"message\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Message\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,as:\"textarea\",placeholder:\"Your message...\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Please provide a valid message.\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mx-auto text-center form-group\",children:[formspreeUrl&&/*#__PURE__*/_jsxs(Button,{size:\"lg\",variant:theme===\"light\"?\"outline-dark\":\"outline-light\",type:\"submit\",disabled:isProcessing,className:\"my-4\",children:[\"Submit\",\" \",isProcessing&&/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"success\",size:\"sm\"})]}),/*#__PURE__*/_jsx(Alert,{show:success,variant:\"success\",onClose:()=>setSuccess(false),dismissible:true,children:/*#__PURE__*/_jsx(Alert.Heading,{children:\"Success! I will contact you soon.\"})}),/*#__PURE__*/_jsx(Alert,{show:danger,variant:\"danger\",onClose:()=>setDanger(false),dismissible:true,children:/*#__PURE__*/_jsx(Alert.Heading,{children:dangerMessage})}),/*#__PURE__*/_jsx(Alert,{show:!formspreeUrl,variant:\"danger\",children:/*#__PURE__*/_jsx(Alert.Heading,{children:\"You must provide a valid formspree url in data.js\"})})]})]})});}","map":{"version":3,"names":["React","useAppContext","formspreeUrl","Alert","Button","Form","Spinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ContactForm","isValidated","setIsValidated","useState","isProcessing","setIsProcessing","success","setSuccess","danger","setDanger","dangerMessage","setDangerMessage","theme","postData","data","response","fetch","method","body","JSON","stringify","headers","Accept","handleSubmit","event","form","currentTarget","checkValidity","preventDefault","stopPropagation","name","email","message","elements","value","persist","ok","Error","concat","status","statusText","target","reset","error","children","noValidate","validated","onSubmit","Group","className","controlId","Label","Control","required","type","placeholder","Feedback","pattern","as","size","variant","disabled","animation","show","onClose","dismissible","Heading"],"sources":["C:/Users/Mehdi/Desktop/Portflio/portfolio/src/components/ContactForm.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useAppContext } from \"../appContext\";\r\n// Data\r\nimport { formspreeUrl } from \"../data\";\r\n// Components\r\nimport { Alert, Button, Form, Spinner } from \"react-bootstrap\";\r\n\r\nexport default function ContactForm() {\r\n  const [isValidated, setIsValidated] = React.useState(false);\r\n  const [isProcessing, setIsProcessing] = React.useState(false);\r\n  const [success, setSuccess] = React.useState(false);\r\n  const [danger, setDanger] = React.useState(false);\r\n  const [dangerMessage, setDangerMessage] = React.useState(null);\r\n  const { theme } = useAppContext();\r\n\r\n  async function postData(data) {\r\n    const response = await fetch(formspreeUrl, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    return response;\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    const form = event.currentTarget;\r\n    setSuccess(false);\r\n    setDanger(false);\r\n    setDangerMessage(null);\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    setIsValidated(true);\r\n    const { name, email, message } = form.elements;\r\n    const data = {\r\n      name: name.value,\r\n      email: email.value,\r\n      message: message.value,\r\n    };\r\n    if (form.checkValidity()) {\r\n      event.preventDefault();\r\n      event.persist();\r\n      setIsProcessing(true);\r\n      try {\r\n        const response = await postData(data);\r\n        if (!response.ok) {\r\n          throw new Error(\r\n            `${response.status} ${response.statusText}, check formspreeUrl in data.js`\r\n          );\r\n        }\r\n        setIsProcessing(false);\r\n        setIsValidated(false);\r\n        event.target.reset();\r\n        setSuccess(true);\r\n      } catch (error) {\r\n        setIsProcessing(false);\r\n        setIsValidated(false);\r\n        event.target.reset();\r\n        setDangerMessage(error.message);\r\n        setDanger(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Form noValidate validated={isValidated} onSubmit={handleSubmit}>\r\n        <Form.Group className=\"mx-auto mb-3 form-group\" controlId=\"name\">\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control required type=\"text\" placeholder=\"Your name\" />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            <h5>Name must be at least one character.</h5>\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Group className=\"mx-auto mb-3 form-group\" controlId=\"email\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control\r\n            required\r\n            pattern=\"^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$\"\r\n            placeholder=\"someone@something.com\"\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            <h5>Please enter a valid email.</h5>\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Group className=\"mx-auto mb-3 form-group\" controlId=\"message\">\r\n          <Form.Label>Message</Form.Label>\r\n          <Form.Control required as=\"textarea\" placeholder=\"Your message...\" />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            <h5>Please provide a valid message.</h5>\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Group className=\"mx-auto text-center form-group\">\r\n          {formspreeUrl && (\r\n            <Button\r\n              size=\"lg\"\r\n              variant={theme === \"light\" ? \"outline-dark\" : \"outline-light\"}\r\n              type=\"submit\"\r\n              disabled={isProcessing}\r\n              className=\"my-4\"\r\n            >\r\n              Submit{\" \"}\r\n              {isProcessing && (\r\n                <Spinner animation=\"border\" variant=\"success\" size=\"sm\" />\r\n              )}\r\n            </Button>\r\n          )}\r\n\r\n          <Alert\r\n            show={success}\r\n            variant=\"success\"\r\n            onClose={() => setSuccess(false)}\r\n            dismissible\r\n          >\r\n            <Alert.Heading>Success! I will contact you soon.</Alert.Heading>\r\n          </Alert>\r\n          <Alert\r\n            show={danger}\r\n            variant=\"danger\"\r\n            onClose={() => setDanger(false)}\r\n            dismissible\r\n          >\r\n            <Alert.Heading>{dangerMessage}</Alert.Heading>\r\n          </Alert>\r\n          <Alert show={!formspreeUrl} variant=\"danger\">\r\n            <Alert.Heading>\r\n              You must provide a valid formspree url in data.js\r\n            </Alert.Heading>\r\n          </Alert>\r\n        </Form.Group>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}